# json-server

## 什么是 json-server？

`json-server` 是一个基于 Node.js 的工具，用于快速创建模拟 RESTful API，从而在前端开发过程中模拟后端数据交互。它允许你使用 JSON 文件作为数据源，通过简单的命令就可以快速搭建一个具有完整 CRUD（创建、读取、更新、删除）功能的 API。

主要特点和用途包括：

- **快速创建 API：** 使用 `json-server`，你只需准备一个 JSON 文件，定义你的数据结构，然后运行命令，就能获得一个完整的 RESTful API，包括常见的 CRUD 操作。

- **数据模拟：** 在前端开发中，你可以使用 `json-server` 模拟真实的 API 行为，而无需等待后端开发完成。这使得前端开发人员可以独立地进行开发和测试。

- **临时数据存储：** 你可以将 `json-server` 用作临时的数据存储，用于开发、测试、演示和原型制作。在真实的后端准备好之前，你可以使用模拟的数据进行开发。

- **自定义路由：** `json-server` 允许你自定义路由和请求处理，以满足特定的开发需求。

- **过滤和排序：** 它支持使用查询参数对数据进行过滤和排序，模拟实际 API 的查询功能。

- **响应延迟：** 你可以设置响应延迟，模拟网络请求的实际延迟，从而更真实地测试应用程序的行为。

使用 `json-server`，你可以在短时间内搭建出一个假的后端数据服务，使前端开发和测试变得更加高效。它非常适用于原型制作、临时测试、学习和快速开发的场景。



## 安装json-server

1. 安装 `json-server` 包：

   你需要在命令行中输入以下命令，它将使用 Node.js 包管理器 npm 来全局安装名为 `json-server` 的包。全局安装意味着你可以在任何地方使用 `json-server` 命令，而不仅限于特定的项目目录。

   ```markdown
   ```bash
   npm install -g json-server
   ```
   ```

   解释这个命令的各部分：

   - `npm`：Node.js 包管理工具的命令。
   - `install`：npm 命令的子命令，用于安装包。
   - `-g`：标志用于全局安装，将包安装到系统中，而不是特定的项目目录。
   - `json-server`：要安装的包的名称。

2. 启动 `json-server` 并监视数据文件：

   接着，你可以在命令行中运行以下命令，它将启动一个 `json-server` 实例，并监视名为 `db.json` 的 JSON 数据文件。

   ```markdown
   ```bash
   json-server --watch db.json
   ```
   ```
   
   解释这个命令的各部分：
   
   - `json-server`：启动 `json-server` 工具的命令。
   - `--watch`：这是一个选项，指示 `json-server` 监视文件。
   - `db.json`：要监视的 JSON 数据文件的文件名。这个文件中的数据将被暴露为一个模拟的 RESTful API。

通过运行这两行命令，你将全局安装 `json-server` 包，并启动一个模拟的 RESTful API 服务器。这个服务器将使用 `db.json` 文件中的数据作为 API 的数据源，从而使你能够在前端开发中模拟 API 请求和响应，而无需实际的后端支持。

+ 需要注意的是，该方法安装的服务端口号为3000。不能服务都是一样的端口
+ 可以使用该命令来修改端口号  json-server --watch db.json --port 3001

## 注意

使用json-server要进入目录，比如db.json在web文件夹下面，那么就要在终端中输入cd web以进入

## 关于跨域

跨域的问题，是为了解决同源策略

1. **协议（Protocol）：** 同源策略要求协议必须相同。也就是说，如果一个网页使用 HTTP 协议加载，那么它只能与其他使用 HTTP 协议的网页进行通信。同样，使用 HTTPS 协议加载的网页也只能与其他使用 HTTPS 协议的网页进行通信。
2. **域名（Domain）：** 域名部分需要相同。两个网页的域名必须完全相同，包括子域名，才能符合同源策略。
3. **端口号（Port）：** 如果在 URL 中指定了端口号，那么两个网页的端口号也必须相同才能满足同源策略。如果没有指定端口号，默认端口号为 80（HTTP）和 443（HTTPS）。

因此，无论是 HTTP 还是 HTTPS，只要域名、协议和端口号都相同，就满足了同源策略，可以进行跨域通信。但如果其中有一个不同，就会触发跨域限制，需要使用跨域解决方案来进行数据交换。